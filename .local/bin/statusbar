#!/bin/bash

dte(){
dte="$(date "+%d/%m/%Y %T")"
echo -e " $dte"
}

bl(){
bl="$(xbacklight -get | awk  '{printf "%.0f\n", $1}')%"
echo -e " $bl"
}

vol(){
vol="$(pactl list sinks | grep '^[[:space:]]Volume:' | \
	    head -n $(( $SINK + 1 )) | tail -n 1 | sed -e 's,.* \([0-9][0-9]*\)%.*,\1,')%"
echo -e " $vol"
}

wifi(){
wifi="$(iw dev | grep ssid | awk '{print $2}')"
echo -e " $wifi"
}

i=0

while true; do

	if [ "$i" -eq "0" ] || [ "$i" -eq "900" ]; then
        	ibov_val=" $(ibov)"
		i=1
	fi

	xsetroot -name " $ibov_val | $(battery) | $(wifi) | $(vol) | $(bl) | $(dte)" 
      
       	i=$(($i + 1))
	sleep 1
done
